{
  "kind": "build_request",
  "title": "Build Bitunix Trading Bot System with Grid and Futures Strategies",
  "projectName": "Bitunix Trading Bot",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a spot trading Grid bot that allows users to configure price range (upper/lower bounds), number of grid levels, and investment amount per grid. The bot should calculate optimal buy/sell orders across the grid and display current active orders.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Users can set minimum and maximum price range for the grid",
        "Users can specify number of grid levels (e.g., 10, 20, 50 grids)",
        "Users can set total investment amount to distribute across grid",
        "System calculates and displays price levels for each grid",
        "Grid bot can be enabled/disabled by user"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement a futures trading bot using MACD + RSI strategy: generate buy signal when MACD line crosses above signal line AND RSI is below 30; generate sell signal when MACD line crosses below signal line AND RSI is above 70. Allow users to configure timeframe, leverage, and position size.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Bot calculates MACD (12, 26, 9) and RSI (14) indicators from price data",
        "Buy signals trigger when MACD crosses up and RSI < 30",
        "Sell signals trigger when MACD crosses down and RSI > 70",
        "Users can configure leverage (1x-20x) and position size",
        "Bot displays current indicator values and signal status"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement a scalping futures trading bot using EMA crossover strategy: generate buy signal when EMA(9) crosses above EMA(21); generate sell signal when EMA(9) crosses below EMA(21). Include configurable tight stop-loss and take-profit percentages suitable for quick trades.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Bot calculates EMA(9) and EMA(21) from price data",
        "Buy signals trigger on upward EMA crossover",
        "Sell signals trigger on downward EMA crossover",
        "Users can set stop-loss percentage (e.g., 0.5%-2%)",
        "Users can set take-profit percentage (e.g., 0.5%-3%)",
        "Bot displays current EMA values and crossover status"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Create a comprehensive dashboard that displays real-time status for all three bots including: bot name and type (spot/futures), current strategy, active/inactive status, total profit/loss in USDT and percentage, number of completed trades, current open positions, and latest entry/exit signals with timestamps.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Dashboard shows all three bots in separate cards or sections",
        "Each bot displays profit/loss in both USDT amount and percentage",
        "Real-time update of bot status and metrics",
        "Entry/exit signals are clearly marked with timestamps",
        "Visual indicators for active (green) and inactive (gray) bots"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Implement manual trading mode that allows users to manually execute spot and futures trades with custom parameters (symbol, amount, price for spot; symbol, side, leverage, amount for futures), while also supporting automated mode where bots execute trades based on their configured strategies. Users must be able to toggle between manual and automated modes for each bot independently.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Manual trading interface for spot orders (buy/sell, price, amount)",
        "Manual trading interface for futures orders (long/short, leverage, amount)",
        "Each bot has an enable/disable toggle switch",
        "When bot is disabled, automated trading stops but manual trading remains available",
        "Clear visual indication of manual vs automated mode"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Create Bitunix API integration module that securely stores API key and secret, handles authentication, and provides methods for: fetching market data (price, volume, order book), placing orders (spot and futures), canceling orders, fetching account balance, and retrieving open positions. Include a settings page where users can input and save their Bitunix API credentials.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-3",
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Settings page with secure input fields for API key and secret",
        "API credentials are encrypted and stored in backend",
        "Test connection button to verify API credentials",
        "Error handling for invalid or expired API keys",
        "All trading operations use authenticated API calls to Bitunix"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Implement risk management controls for all bots including: configurable stop-loss percentage (exit position when loss reaches threshold), configurable take-profit percentage (exit position when profit reaches target), maximum position size limits, and daily loss limits. Display risk metrics on the dashboard.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Each bot has individual stop-loss and take-profit settings",
        "Users can set maximum position size per trade",
        "Users can set daily maximum loss limit",
        "Bots automatically close positions when stop-loss or take-profit triggers",
        "Dashboard shows current risk exposure and remaining daily limits"
      ]
    },
    {
      "id": "REQ-8",
      "text": "Integrate Internet Identity authentication system so that users must authenticate before accessing the trading dashboard and bot controls. Each user's API credentials, bot configurations, and trading history should be tied to their Internet Identity principal.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5",
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Login page with Internet Identity button",
        "Unauthenticated users cannot access trading features",
        "User settings and bot configurations are stored per principal",
        "Logout functionality that clears session",
        "Dashboard displays authenticated user's principal (truncated)"
      ]
    },
    {
      "id": "REQ-9",
      "text": "Design a sophisticated, professional trading interface with a dark theme optimized for financial applications. Use a color scheme of deep charcoal backgrounds, neon accents (cyan for positive values, red for negative), and crisp white text. Include animated charts, gradient cards for each bot, and smooth transitions for status changes.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-7"
        ]
      },
      "acceptanceCriteria": [
        "Dark theme with professional trading aesthetic",
        "Color-coded profit/loss indicators (green for profit, red for loss)",
        "Smooth animations and transitions throughout UI",
        "Clear visual hierarchy separating bots and their metrics",
        "Responsive layout that works on desktop and tablet"
      ]
    }
  ],
  "constraints": [
    "Must use Motoko for backend with single-actor architecture",
    "All bot logic and API integration must be handled in backend",
    "API keys must be encrypted before storage",
    "Must use Internet Identity for authentication (no third-party auth)",
    "Cannot implement actual WebSocket connections for real-time data (use polling or manual refresh)"
  ],
  "nonGoals": [
    "Actual automated trading execution without user confirmation during development",
    "Integration with exchanges other than Bitunix",
    "Mobile app version",
    "Advanced charting library integration (TradingView, etc.)",
    "Multi-user portfolio management",
    "Social trading or copy trading features"
  ],
  "imageRequirements": {
    "required": [
      "Abstract trading chart visualization with neon cyan lines on dark background (trading-hero.dim_1200x400.png)",
      "Minimalist robot icon in neon cyan representing trading bot (bot-icon.dim_128x128.png)",
      "Grid pattern overlay for spot trading bot card background (grid-pattern.dim_600x400.png)"
    ],
    "edits": []
  }
}