{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "Trading bot application for Bitunix exchange with 1 spot grid bot and 2 futures bots using MACD/RSI and EMA scalping strategies",
  "architectural_notes": [
    "Trading bot system connecting to Bitunix exchange API",
    "Three bots: 1 spot grid bot, 2 futures bots (MACD+RSI and EMA scalping)",
    "Technical indicators: MACD, RSI, EMA 9/21 for signal generation",
    "Manual and automated trading modes with bot control",
    "Internet Identity for authentication"
  ],
  "known_issues": [
    "User needs to obtain Bitunix API keys before live trading can function",
    "React rendering error: 'Failed to execute insertBefore on Node' occurs during app load - needs component structure optimization",
    "Application crashes with 'خطای برنامه رخ داد' error when saving Bitunix API keys in Settings page",
    "Black screen with 'به مشکلی پیش اومد!' message appears after API key validation attempt"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-spot-trading-grid-bot-that-allows-users-to-configure-price-range-upper-lower-bounds-number-of-grid-levels-and-investment-amount-per-grid-the-bot-should-calculate-optimal-buy-sell-orders-across-the-grid-and-display-current-active-orders",
      "title": "Create a spot trading Grid bot that allows users to configure price range (upper/lower bounds), number of grid levels, and investment amount per grid. The bot should calculate optimal buy/sell orders across the grid and display current active orders.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-futures-trading-bot-using-macd-rsi-strategy-generate-buy-signal-when-macd-line-crosses-above-signal-line-and-rsi-is-below-30-generate-sell-signal-when-macd-line-crosses-below-signal-line-and-rsi-is-above-70-allow-users-to-configure-timeframe-leverage-and-position-size",
      "title": "Implement a futures trading bot using MACD + RSI strategy: generate buy signal when MACD line crosses above signal line AND RSI is below 30; generate sell signal when MACD line crosses below signal line AND RSI is above 70. Allow users to configure timeframe, leverage, and position size.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-scalping-futures-trading-bot-using-ema-crossover-strategy-generate-buy-signal-when-ema-9-crosses-above-ema-21-generate-sell-signal-when-ema-9-crosses-below-ema-21-include-configurable-tight-stop-loss-and-take-profit-percentages-suitable-for-quick-trades",
      "title": "Implement a scalping futures trading bot using EMA crossover strategy: generate buy signal when EMA(9) crosses above EMA(21); generate sell signal when EMA(9) crosses below EMA(21). Include configurable tight stop-loss and take-profit percentages suitable for quick trades.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-comprehensive-dashboard-that-displays-real-time-status-for-all-three-bots-including-bot-name-and-type-spot-futures-current-strategy-active-inactive-status-total-profit-loss-in-usdt-and-percentage-number-of-completed-trades-current-open-positions-and-latest-entry-exit-signals-with-timestamps",
      "title": "Create a comprehensive dashboard that displays real-time status for all three bots including: bot name and type (spot/futures), current strategy, active/inactive status, total profit/loss in USDT and percentage, number of completed trades, current open positions, and latest entry/exit signals with timestamps.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-manual-trading-mode-that-allows-users-to-manually-execute-spot-and-futures-trades-with-custom-parameters-symbol-amount-price-for-spot-symbol-side-leverage-amount-for-futures-while-also-supporting-automated-mode-where-bots-execute-trades-based-on-their-configured-strategies-users-must-be-able-to-toggle-between-manual-and-automated-modes-for-each-bot-independently",
      "title": "Implement manual trading mode that allows users to manually execute spot and futures trades with custom parameters (symbol, amount, price for spot; symbol, side, leverage, amount for futures), while also supporting automated mode where bots execute trades based on their configured strategies. Users must be able to toggle between manual and automated modes for each bot independently.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-bitunix-api-integration-module-that-securely-stores-api-key-and-secret-handles-authentication-and-provides-methods-for-fetching-market-data-price-volume-order-book-placing-orders-spot-and-futures-canceling-orders-fetching-account-balance-and-retrieving-open-positions-include-a-settings-page-where-users-can-input-and-save-their-bitunix-api-credentials",
      "title": "Create Bitunix API integration module that securely stores API key and secret, handles authentication, and provides methods for: fetching market data (price, volume, order book), placing orders (spot and futures), canceling orders, fetching account balance, and retrieving open positions. Include a settings page where users can input and save their Bitunix API credentials.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-risk-management-controls-for-all-bots-including-configurable-stop-loss-percentage-exit-position-when-loss-reaches-threshold-configurable-take-profit-percentage-exit-position-when-profit-reaches-target-maximum-position-size-limits-and-daily-loss-limits-display-risk-metrics-on-the-dashboard",
      "title": "Implement risk management controls for all bots including: configurable stop-loss percentage (exit position when loss reaches threshold), configurable take-profit percentage (exit position when profit reaches target), maximum position size limits, and daily loss limits. Display risk metrics on the dashboard.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-internet-identity-authentication-system-so-that-users-must-authenticate-before-accessing-the-trading-dashboard-and-bot-controls-each-user-s-api-credentials-bot-configurations-and-trading-history-should-be-tied-to-their-internet-identity-principal",
      "title": "Integrate Internet Identity authentication system so that users must authenticate before accessing the trading dashboard and bot controls. Each user's API credentials, bot configurations, and trading history should be tied to their Internet Identity principal.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-design-a-sophisticated-professional-trading-interface-with-a-dark-theme-optimized-for-financial-applications-use-a-color-scheme-of-deep-charcoal-backgrounds-neon-accents-cyan-for-positive-values-red-for-negative-and-crisp-white-text-include-animated-charts-gradient-cards-for-each-bot-and-smooth-transitions-for-status-changes",
      "title": "Design a sophisticated, professional trading interface with a dark theme optimized for financial applications. Use a color scheme of deep charcoal backgrounds, neon accents (cyan for positive values, red for negative), and crisp white text. Include animated charts, gradient cards for each bot, and smooth transitions for status changes.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-failed-to-execute-insertbefore-on-node-react-rendering-error-that-occurs-during-application-load-by-optimizing-component-structure-ensuring-proper-key-props-in-all-list-renderings-correcting-state-management-during-loading-phases-and-validating-internet-identity-integration-code",
      "title": "Fix the 'Failed to execute insertBefore on Node' React rendering error that occurs during application load by optimizing component structure, ensuring proper key props in all list renderings, correcting state management during loading phases, and validating Internet Identity integration code",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-review-and-stabilize-the-rendering-lifecycle-of-dashboard-components-including-botcard-riskmetricspanel-and-any-conditional-rendering-logic-to-prevent-dom-node-insertion-conflicts",
      "title": "Review and stabilize the rendering lifecycle of dashboard components including BotCard, RiskMetricsPanel, and any conditional rendering logic to prevent DOM node insertion conflicts",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-react-query-data-fetching-hooks-handle-loading-and-error-states-properly-to-avoid-premature-component-mounting-that-could-cause-insertbefore-errors",
      "title": "Ensure all React Query data fetching hooks handle loading and error states properly to avoid premature component mounting that could cause insertBefore errors",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-application-crash-that-occurs-when-users-save-bitunix-api-credentials-in-the-settings-page-the-error-application-error-occurred-appears-immediately-after-clicking-save-followed-by-a-black-screen-with-a-problem-occurred-implement-proper-error-handling-and-validation-to-prevent-crashes-during-api-credential-storage",
      "title": "Fix the application crash that occurs when users save Bitunix API credentials in the Settings page. The error 'خطای برنامه رخ داد' (Application error occurred) appears immediately after clicking Save, followed by a black screen with 'به مشکلی پیش اومد!' (A problem occurred). Implement proper error handling and validation to prevent crashes during API credential storage.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-comprehensive-error-handling-for-api-credential-validation-that-catches-all-exceptions-during-the-save-operation-display-user-friendly-error-messages-in-persian-explaining-what-went-wrong-e-g-invalid-credentials-format-network-timeout-server-error-instead-of-crashing-the-application",
      "title": "Add comprehensive error handling for API credential validation that catches all exceptions during the save operation. Display user-friendly error messages in Persian explaining what went wrong (e.g., invalid credentials format, network timeout, server error) instead of crashing the application.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-api-credential-validation-before-saving-to-backend-test-the-connection-to-bitunix-api-using-the-provided-credentials-and-verify-that-trading-permissions-are-enabled-before-storing-them-display-validation-status-to-users",
      "title": "Implement API credential validation before saving to backend. Test the connection to Bitunix API using the provided credentials and verify that trading permissions are enabled before storing them. Display validation status to users.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-add-loading-states-and-proper-async-handling-throughout-the-settings-page-credential-save-flow-prevent-users-from-navigating-away-or-submitting-multiple-times-during-the-save-operation",
      "title": "Add loading states and proper async handling throughout the Settings page credential save flow. Prevent users from navigating away or submitting multiple times during the save operation.",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-success-notification-in-persian-that-displays-when-api-credentials-are-successfully-saved-and-validated-include-a-test-connection-button-that-users-can-click-to-verify-their-credentials-are-working-correctly",
      "title": "Add a success notification in Persian that displays when API credentials are successfully saved and validated. Include a 'Test Connection' button that users can click to verify their credentials are working correctly.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Spot Grid Trading bot with configurable price ranges",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Futures bot #1: MACD + RSI strategy for trend trading",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Futures bot #2: EMA scalping strategy for quick trades",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Dashboard displaying bot status, profit/loss, and entry/exit signals",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Manual and automated trading modes with bot enable/disable controls",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Bitunix exchange API integration with API key configuration",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Risk management with configurable take-profit and stop-loss settings",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Internet Identity authentication for security",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Review and fix the backend credential storage mechanism to ensure it properly handles API key and secret storage without throwing exceptions. Add validation to ensure credentials are properly formatted before attempting to store them.",
      "reqIds": [
        "REQ-17"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Bitunix Trading Bot",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}